<!DOCTYPE HTML>
<html>
	<head>
		<title>Fractal by HTML5 UP</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	</head>
	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<div class="content">
				<h1><a href="#">FFviz Early Access</a></h1>
				<p>We're excited to bring you the most actionable fantasy football insights every week. As a new venture, every subscription is a valuable vote of confidence in what we are building. Join us now, help shape our future, and elevate your game every step of the season. </p>
				<!-- Tally Form Embed Instead of Buttons -->
				<div style="text-align: center; margin-top: 20px;">
					<iframe data-tally-src="https://tally.so/embed/mRRE7K?alignLeft=1&hideTitle=1&dynamicHeight=1" loading="lazy" height="120" frameborder="0" marginheight="0" marginwidth="0" title="Subscription Form"></iframe>
					<script>
						var d=document, w="https://tally.so/widgets/embed.js", v=function() {
							"undefined" != typeof Tally ? Tally.loadEmbeds() : d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(function(e) { e.src = e.dataset.tallySrc });
						};
						if ("undefined" != typeof Tally) v();
						else if (d.querySelector('script[src="' + w + '"]') == null) {
							var s = d.createElement("script");
							s.src = w; s.onload = v; s.onerror = v; d.body.appendChild(s);
						}
					</script>
				</div>
			</div>
			<div class="image phone"><div class="inner"><img src="images/screen.jpg" alt="" /></div></div>
		</header>
<div id="chart"></div>

<script>
    var data = [
        { player: 'CeeDee Lamb', targets: 31, team: 'DAL' },
        { player: 'Davante Adams', targets: 29, team: 'LVR' },
        { player: 'Calvin Ridley', targets: 26, team: 'JAX' },
        { player: 'Tyreek Hill', targets: 24, team: 'MIA' },
        { player: 'Jake Ferguson', targets: 23, team: 'DAL' },
        { player: 'D.K. Metcalf', targets: 23, team: 'SEA' },
        { player: 'Amon-Ra St. Brown', targets: 23, team: 'DET' },
        { player: 'Rashee Rice', targets: 22, team: 'KAN' },
        { player: 'Ja\'Marr Chase', targets: 19, team: 'CIN' },
        { player: 'Travis Kelce', targets: 19, team: 'KAN' },
        { player: 'Michael Pittman', targets: 19, team: 'IND' },
        { player: 'Romeo Doubs', targets: 18, team: 'GNB' },
        { player: 'Cooper Kupp', targets: 18, team: 'LAR' },
        { player: 'DeAndre Hopkins', targets: 17, team: 'TEN' },
        { player: 'David Njoku', targets: 17, team: 'CLE' },
        { player: 'Deebo Samuel', targets: 17, team: 'SFO' },
        { player: 'Courtland Sutton', targets: 17, team: 'DEN' },
        { player: 'Garrett Wilson', targets: 17, team: 'NYJ' }
    ];

    var teamColors = {
        'DAL': '#003594',
        'LVR': '#000000',
        'JAX': '#006778',
        'MIA': '#008E97',
        'SEA': '#002244',
        'DET': '#0076B6',
        'KAN': '#E31837',
        'CIN': '#FB4F14',
        'IND': '#002C5F',
        'GNB': '#203731',
        'LAR': '#003594',
        'TEN': '#0C2340',
        'CLE': '#311D00',
        'SFO': '#AA0000',
        'DEN': '#FB4F14',
        'NYJ': '#125740'
    };

    var teams = ['All Teams', ...new Set(data.map(item => item.team))];

    function plotChart(team) {
        var filteredData = team === 'All Teams' ? data : data.filter(item => item.team === team);
        filteredData.sort((a, b) => b.targets - a.targets);

        // Concatenate player and team names for y-axis
        var yLabels = filteredData.map(item => `${item.player} (${item.team})`);

        var trace = {
            y: yLabels,  // Use concatenated labels for y-axis
            x: filteredData.map(item => item.targets),
            text: filteredData.map(item => item.targets),  // Display targets outside the bar
            type: 'bar',
            orientation: 'h',
            marker: {
                color: filteredData.map(item => teamColors[item.team]),
                line: {
                    color: 'white',
                    width: 2
                }
            },
            texttemplate: '%{text}',  // Show target numbers outside
            textposition: 'outside',
            hoverinfo: 'text+x',
            hovertext: filteredData.map(item => `${item.player} (${item.team})<br>Targets: ${item.targets}`),
        };

        var layout = {
            title: {
                text: 'Red Zone Targets',
                font: {
                    size: 24,
                    family: 'Montserrat, sans-serif'
                },
            },
            margin: {
                l: window.innerWidth < 600 ? 120 : 200,  // Adjust left margin based on screen width
                r: 30,  // Reduce right margin for smaller screens
                t: 50,
                b: 50
            },
            paper_bgcolor: '#f4f4f4',
            plot_bgcolor: '#f4f4f4',
            yaxis: {
                title: '',
                autorange: "reversed",
                tickfont: {
                    size: 14,
                    color: 'black'
                },
                showgrid: false
            },
            xaxis: {
                title: '',
                tickfont: {
                    size: 14,
                    color: 'darkgrey'
                },
                showgrid: false,
                zeroline: false
            },
            font: {
                family: 'Montserrat, sans-serif',
                color: '#333'
            },
            autosize: true,  // Make it responsive to screen size
        };

        Plotly.newPlot('chart', [trace], layout, {responsive: true});  // Ensure responsiveness
    }

    plotChart('All Teams');

    document.body.insertAdjacentHTML('afterbegin', `
        <label for="team-select">Choose a team:</label>
        <select id="team-select" onchange="plotChart(this.value)">
            ${teams.map(team => `<option value="${team}">${team}</option>`).join('')}
        </select>
    `);
</script>
		<!-- Tally Form Embed -->
		<section id="tallyForm" class="wrapper style2 special">
		    <div class="inner">
		        <header class="major">
		            <h2>Subscribe to our Newsletter</h2>
		        </header>
		        <iframe data-tally-src="https://tally.so/embed/mRRE7K?alignLeft=1&hideTitle=1&dynamicHeight=1" loading="lazy" height="120" frameborder="0" marginheight="0" marginwidth="0" title="Email Subscription Form"></iframe>
		        <script>
		            var d=document,w="https://tally.so/widgets/embed.js",v=function(){"undefined"!=typeof Tally?Tally.loadEmbeds():d.querySelectorAll("iframe[data-tally-src]:not([src])").forEach(function(e){e.src=e.dataset.tallySrc})};
		            if("undefined"!=typeof Tally)v();
		            else if(d.querySelector('script[src="'+w+'"]')==null){var s=d.createElement("script");s.src=w,s.onload=v,s.onerror=v,d.body.appendChild(s);}
		        </script>
		    </div>
		</section>

		<!-- One -->
		<section id="one" class="wrapper style2 special">
			<header class="major">
				<h2>Sed ipsum magna lorem tempus amet<br />
				vehicula et gravida elementum</h2>
			</header>
			<ul class="icons major">
				<li><span class="icon solid fa-camera-retro"><span class="label">Shoot</span></span></li>
				<li><span class="icon solid fa-sync"><span the="label">Process</span></span></li>
				<li><span the="icon solid fa-cloud"><span class="label">Upload</span></span></li>
			</ul>
		</section>

		<!-- Two -->
		<section id="two" class="wrapper">
			<div class="inner alt">
				<section class="spotlight">
					<div class="image"><img src="images/pic01.jpg" alt="" /></div>
					<div class="content">
						<h3>Magna sed ultrices</h3>
						<p>Morbi mattis ornare ornare. Duis quam turpis, gravida at leo elementum elit fusce accumsan dui libero, quis vehicula lectus ultricies eu. In convallis amet leo non sapien iaculis efficitur consequat lorem ipsum.</p>
					</div>
				</section>
				<section class="spotlight">
					<div class="image"><img src="images/pic02.jpg" alt="" /></div>
					<div the="content">
						<h3>Ultrices nullam aliquam</h3>
						<p>Morbi mattis ornare ornare. Duis quam turpis, gravida at leo elementum elit fusce accumsan dui libero, quis vehicula lectus ultricies eu. In convallis amet leo non sapien iaculis efficitur consequat lorem ipsum.</p>
					</div>
				</section>
				<section class="spotlight">
					<div class="image"><img src="images/pic03.jpg" alt="" /></div>
					<div class="content">
						<h3>Aliquam sed magna</h3>
						<p>Morbi mattis ornare ornare. Duis quam turpis, gravida at leo elementum elit fusce accumsan dui libero, quis vehicula lectus ultricies eu. In convallis amet leo non sapien iaculis efficitur consequat lorem ipsum.</p>
					</div>
				</section>
				<section class="special">
					<ul class="icons labeled">
						<li><span class="icon solid fa-camera-retro"><span class="label">Ipsum lorem accumsan</span></span></li>
						<li><span class="icon solid fa-sync"><span class="label">Sed vehicula elementum</span></span></li>
						<li><span the="icon solid fa-cloud"><span class="label">Elit fusce consequat</span></span></li>
						<li><span class="icon solid fa-code"><span the="label">Lorem nullam tempus</span></span></li>
						<li><span the="icon solid fa-desktop"><span class="label">Adipiscing amet sapien</span></span></li>
					</ul>
				</section>
			</div>
		</section>

		<!-- Three -->
		<section id="three" class="wrapper style2 special">
			<header class="major">
				<h2>Magna leo sapien gravida</h2>
				<p>Gravida at leo elementum elit fusce accumsan dui libero, quis vehicula<br />
				lectus ultricies eu. In convallis amet leo sapien iaculis efficitur.</p>
			</header>
			<ul class="actions special">
				<li><a href="#" class="button primary icon solid fa-download">Download</a></li>
				<li><a href="#" class="button">Learn More</a></li>
			</ul>
		</section>

		<!-- Footer -->
		<footer id="footer">
			<ul class="icons">
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
			</ul>
			<p>&copy; Untitled. Credits: <a href="http://html5up.net">HTML5 UP</a>.</p>
		</footer>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>

	</body>
</html>
